<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>task 96</title>
</head>
<body>

<h1>Загрузка картинок через асинхронные коллбэки в JavaScript</h1>
<p>
  Давайте реализуем функцию loadImage, которая будет загружать картинки. Пусть первым параметром эта функция принимает
  путь к картинке, а вторым - коллбэк, который выполнится, когда картинка будет загружена:
</p>
</body>
<script>


    function loadImage(imagePath, callback) {
        let x = document.createElement("img");
        x.src = imagePath;
        let img = document.createElement("img");
        img.src = imagePath;

        x.onload = function () {
            callback(x, null);
        };
        x.onerror = function () {
            callback(null, new Error('Failed to load the image'));
        };
        x.src = imagePath;
        img.onload = () => callback(x, null);

        img.onerror = () => callback(null, new Error('Failed to load the image'));

        img.src = imagePath;
    }

    let src = "relax.png"

    loadImage(src, (image, err) => {
        //console.log(src)
        if (!err) {
            document.body.append(image);
        } else {
            console.log('произошла ошибка: ' + err);
        }
    })


</script>


</html>